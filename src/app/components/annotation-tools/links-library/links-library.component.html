<rx-panel [title]="'Links and Attachments'" (onClose)="onPanelClose()">
  <div class="link-panel-container">
    <section>
      <div class="templates-list">
        <div *ngFor="let template of links; let i = index" id="link-container" class="link-container">
          <img [linkTemplate]="template" [src]="template.src" [ngStyle]="{ 'width.px': template.width, 'height.px': template.height }" />
          <button class="delete-link-button" (click)="deleteLink(i)">
            <img src="/assets/images/trash-ico.svg" />
          </button>
        </div>
      </div>
    </section>

    <div class="add-custom-stamp">
      <button class="btn btn-primary" (click)="opened = true">Add Links</button>
    </div>
  </div>
</rx-panel>

<rx-modal-dialog [opened]="opened" (onClose)="opened = false">
  <div class="confirm-modal-container" style="max-width: fit-content">
    <div class="rx-modal-dialog-header">
      <img class="close" style="right: 14px; top: 10px" src="/assets/images/close-modal-ico.svg" (click)="opened = false" />
      <span class="title">Add Links</span>
    </div>
    <div class="body link-input-container">
      <div role="group">
        <div class="link-title">
          <label for="link">Add Link Here:</label>
        </div>
        <div class="link-input">
          <input id="link" type="text" [(ngModel)]="link" />
          <span class="link-hint">Please enter a valid URL starting with <code>http://</code> or <code>https://</code></span>
        </div>
      </div>
    </div>
    <div class="footer">
      <button class="btn btn-light" (click)="opened = false">CANCEL</button>
      <button type="button" class="btn btn-primary" [disabled]="!isValidLink" (click)="addLink($event)">SAVE</button>
    </div>
  </div>
</rx-modal-dialog>
